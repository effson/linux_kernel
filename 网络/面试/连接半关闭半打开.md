# 1. 半打开状态
## 1.1 半连接
服务端在收到 第一个 SYN 并返回 SYN+ACK 之后，但还没等到客户端的最后一个 ACK 之前
### 半连接队列
用来存储半连接状态的连接，<mark>SYN队列, 通过哈希表实现</mark>
### 连接建立成功
移除半连接队列中的来连接，加入到全连接队列（accept队列）当中
### SYN flood、DDos攻击
客户端发了 SYN 但不回 ACK，半连接队列会被占满，导致正常请求被丢弃

### SYN包丢弃原理(客户端收到 SYN+ACK，不回复 ACK）
#### 半连接队列满了
- 未启用 SYN Cookies
- 队列已满，Linux 内核默认策略丢弃新的 SYN 包，不回应 SYN+ACK

#### 全连接队列满了
- 
